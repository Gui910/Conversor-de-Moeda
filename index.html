<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conversor de Moeda</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet" />
</head>
<body>
    <div class="container">
        <h1>Conversor de Moeda</h1>
        <form id="converter-form">
            <div class="input-group">
                <label for="base-amount">Valor:</label>
                <input type="number" id="base-amount" required>
            </div>
            <div class="input-group">
                <label for="base-currency">Moeda Base:</label>
                <select id="base-currency"></select>
            </div>
            <div class="input-group">
                <label for="target-currency">Moeda Alvo:</label>
                <select id="target-currency"></select>
            </div>
            <button type="submit">Converter</button>
        </form>
        <div id="result"></div>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const baseCurrencySelect = document.getElementById('base-currency');
            const targetCurrencySelect = document.getElementById('target-currency');
            const resultDiv = document.getElementById('result');

            // Lista de 180 moedas
            const currencies = [
                { code: 'AED', name: 'Dirham Árabe (AED)' },
                { code: 'AFN', name: 'Afegane (AFN)' },
                { code: 'ALL', name: 'Lek Albanês (ALL)' },
                { code: 'AMD', name: 'Dram Armênio (AMD)' },
                { code: 'ANG', name: 'Florim das Antilhas (ANG)' },
                { code: 'AOA', name: 'Kwanza Angolano (AOA)' },
                { code: 'ARS', name: 'Peso Argentino (ARS)' },
                { code: 'AUD', name: 'Dólar Australiano (AUD)' },
                { code: 'AWG', name: 'Florim Arubano (AWG)' },
                { code: 'AZN', name: 'Manat Azerbaijano (AZN)' },
                { code: 'BAM', name: 'Marca Conversível (BAM)' },
                { code: 'BBD', name: 'Dólar de Barbados (BBD)' },
                { code: 'BDT', name: 'Taka de Bangladesh (BDT)' },
                { code: 'BGN', name: 'Lev Búlgaro (BGN)' },
                { code: 'BHD', name: 'Dinar do Bahrein (BHD)' },
                { code: 'BIF', name: 'Franco Burundiano (BIF)' },
                { code: 'BMD', name: 'Dólar Bermudense (BMD)' },
                { code: 'BND', name: 'Dólar de Brunei (BND)' },
                { code: 'BOB', name: 'Boliviano (BOB)' },
                { code: 'BRL', name: 'Real Brasileiro (BRL)' },
                { code: 'BSD', name: 'Dólar das Bahamas (BSD)' },
                { code: 'BTN', name: 'Ngultrum Butanês (BTN)' },
                { code: 'BWP', name: 'Pula Botsuano (BWP)' },
                { code: 'BYN', name: 'Rublo Bielorrusso (BYN)' },
                { code: 'BZD', name: 'Dólar de Belize (BZD)' },
                { code: 'CAD', name: 'Dólar Canadense (CAD)' },
                { code: 'CDF', name: 'Franco Congolês (CDF)' },
                { code: 'CHF', name: 'Franco Suíço (CHF)' },
                { code: 'CLP', name: 'Peso Chileno (CLP)' },
                { code: 'CNY', name: 'Yuan Chinês (CNY)' },
                { code: 'COP', name: 'Peso Colombiano (COP)' },
                { code: 'CRC', name: 'Colón Costarriquenho (CRC)' },
                { code: 'CUP', name: 'Peso Cubano (CUP)' },
                { code: 'CVE', name: 'Escudo Cabo-Verdiano (CVE)' },
                { code: 'CZK', name: 'Coroa Tcheca (CZK)' },
                { code: 'DJF', name: 'Franco Djibutiano (DJF)' },
                { code: 'DKK', name: 'Coroa Dinamarquesa (DKK)' },
                { code: 'DOP', name: 'Peso Dominicano (DOP)' },
                { code: 'DZD', name: 'Dinar Argelino (DZD)' },
                { code: 'EGP', name: 'Libra Egípcia (EGP)' },
                { code: 'ERN', name: 'Nakfa Eritreu (ERN)' },
                { code: 'ETB', name: 'Birr Etíope (ETB)' },
                { code: 'EUR', name: 'Euro (EUR)' },
                { code: 'FJD', name: 'Dólar de Fiji (FJD)' },
                { code: 'FKP', name: 'Libra das Ilhas Malvinas (FKP)' },
                { code: 'FOK', name: 'Coroa das Ilhas Faroé (FOK)' },
                { code: 'GBP', name: 'Libra Esterlina (GBP)' },
                { code: 'GEL', name: 'Lari Georgiano (GEL)' },
                { code: 'GGP', name: 'Libra de Guernsey (GGP)' },
                { code: 'GHS', name: 'Cedi Ganês (GHS)' },
                { code: 'GIP', name: 'Libra de Gibraltar (GIP)' },
                { code: 'GMD', name: 'Dalasi Gambiano (GMD)' },
                { code: 'GNF', name: 'Franco Guineano (GNF)' },
                { code: 'GTQ', name: 'Quetzal Guatemalteco (GTQ)' },
                { code: 'GYD', name: 'Dólar Guianense (GYD)' },
                { code: 'HKD', name: 'Dólar de Hong Kong (HKD)' },
                { code: 'HNL', name: 'Lempira Hondurenho (HNL)' },
                { code: 'HRK', name: 'Kuna Croata (HRK)' },
                { code: 'HTG', name: 'Gourde Haitiano (HTG)' },
                { code: 'HUF', name: 'Forint Húngaro (HUF)' },
                { code: 'IDR', name: 'Rupia Indonésia (IDR)' },
                { code: 'ILS', name: 'Novo Shekel Israelense (ILS)' },
                { code: 'IMP', name: 'Libra da Ilha de Man (IMP)' },
                { code: 'INR', name: 'Rúpia Indiana (INR)' },
                { code: 'IQD', name: 'Dinar Iraquiano (IQD)' },
                { code: 'IRR', name: 'Rial Iraniano (IRR)' },
                { code: 'ISK', name: 'Coroa Islandesa (ISK)' },
                { code: 'JEP', name: 'Libra de Jersey (JEP)' },
                { code: 'JMD', name: 'Dólar Jamaicano (JMD)' },
                { code: 'JOD', name: 'Dinar Jordaniano (JOD)' },
                { code: 'JPY', name: 'Iene Japonês (JPY)' },
                { code: 'KES', name: 'Xelim Queniano (KES)' },
                { code: 'KGS', name: 'Som Quirguiz (KGS)' },
                { code: 'KHR', name: 'Riel Cambojano (KHR)' },
                { code: 'KID', name: 'Dólar Kiribatiano (KID)' },
                { code: 'KMF', name: 'Franco Comoriano (KMF)' },
                { code: 'KRW', name: 'Won Sul-Coreano (KRW)' },
                { code: 'KWD', name: 'Dinar Kuwaitiano (KWD)' },
                { code: 'KYD', name: 'Dólar das Ilhas Cayman (KYD)' },
                { code: 'KZT', name: 'Tenge Cazaque (KZT)' },
                { code: 'LAK', name: 'Kip Lao (LAK)' },
                { code: 'LBP', name: 'Libra Libanesa (LBP)' },
                { code: 'LKR', name: 'Rúpia do Sri Lanka (LKR)' },
                { code: 'LRD', name: 'Dólar Liberiano (LRD)' },
                { code: 'LSL', name: 'Loti do Lesoto (LSL)' },
                { code: 'LYD', name: 'Dinar Líbio (LYD)' },
                { code: 'MAD', name: 'Dirham Marroquino (MAD)' },
                { code: 'MDL', name: 'Leu Moldavo (MDL)' },
                { code: 'MGA', name: 'Ariary Malgaxe (MGA)' },
                { code: 'MKD', name: 'Dinar Macedônio (MKD)' },
                { code: 'MMK', name: 'Kyat Birmanês (MMK)' },
                { code: 'MNT', name: 'Tugrik Mongol (MNT)' },
                { code: 'MOP', name: 'Pataca de Macau (MOP)' },
                { code: 'MRU', name: 'Ouguiya Mauritana (MRU)' },
                { code: 'MUR', name: 'Rúpia Mauriciana (MUR)' },
                { code: 'MVR', name: 'Rufiyaa Maldiviana (MVR)' },
                { code: 'MWK', name: 'Kwacha Malauiana (MWK)' },
                { code: 'MXN', name: 'Peso Mexicano (MXN)' },
                { code: 'MYR', name: 'Ringgit Malaio (MYR)' },
                { code: 'MZN', name: 'Metical Moçambicano (MZN)' },
                { code: 'NAD', name: 'Dólar Namibiano (NAD)' },
                { code: 'NGN', name: 'Naira Nigeriana (NGN)' },
                { code: 'NIO', name: 'Córdoba Nicaraguense (NIO)' },
                { code: 'NOK', name: 'Coroa Norueguesa (NOK)' },
                { code: 'NPR', name: 'Rúpia Nepalesa (NPR)' },
                { code: 'NZD', name: 'Dólar Neozelandês (NZD)' },
                { code: 'OMR', name: 'Rial Omanense (OMR)' },
                { code: 'PAB', name: 'Balboa Panamenho (PAB)' },
                { code: 'PEN', name: 'Sol Peruano (PEN)' },
                { code: 'PGK', name: 'Kina Papua-Nova Guiné (PGK)' },
                { code: 'PHP', name: 'Peso Filipino (PHP)' },
                { code: 'PKR', name: 'Rúpia Paquistanesa (PKR)' },
                { code: 'PLN', name: 'Zloty Polonês (PLN)' },
                { code: 'PYG', name: 'Guarani Paraguaio (PYG)' },
                { code: 'QAR', name: 'Rial Catarense (QAR)' },
                { code: 'RON', name: 'Leu Romeno (RON)' },
                { code: 'RSD', name: 'Dinar Sérvio (RSD)' },
                { code: 'RUB', name: 'Rublo Russo (RUB)' },
                { code: 'RWF', name: 'Franco Ruandês (RWF)' },
                { code: 'SAR', name: 'Rial Saudita (SAR)' },
                { code: 'SBD', name: 'Dólar das Ilhas Salomão (SBD)' },
                { code: 'SCR', name: 'Rúpia de Seicheles (SCR)' },
                { code: 'SDG', name: 'Libra Sudanesa (SDG)' },
                { code: 'SEK', name: 'Coroa Sueca (SEK)' },
                { code: 'SGD', name: 'Dólar de Singapura (SGD)' },
                { code: 'SHP', name: 'Libra de Santa Helena (SHP)' },
                { code: 'SLE', name: 'Leone de Serra Leoa (SLE)' },
                { code: 'SOS', name: 'Xelim Somali (SOS)' },
                { code: 'SRD', name: 'Dólar Surinamês (SRD)' },
                { code: 'SSP', name: 'Libra do Sudão do Sul (SSP)' },
                { code: 'STN', name: 'Dobra de São Tomé e Príncipe (STN)' },
                { code: 'SYP', name: 'Libra Síria (SYP)' },
                { code: 'SZL', name: 'Lilangeni Suazi (SZL)' },
                { code: 'THB', name: 'Baht Tailandês (THB)' },
                { code: 'TJS', name: 'Somoni do Tadjiquistão (TJS)' },
                { code: 'TMT', name: 'Manat Turcomeno (TMT)' },
                { code: 'TND', name: 'Dinar Tunisiano (TND)' },
                { code: 'TOP', name: 'Paanga de Tonga (TOP)' },
                { code: 'TRY', name: 'Lira Turca (TRY)' },
                { code: 'TTD', name: 'Dólar de Trinidad e Tobago (TTD)' },
                { code: 'TVD', name: 'Dólar de Tuvalu (TVD)' },
                { code: 'TZS', name: 'Xelim Tanzaniano (TZS)' },
                { code: 'UAH', name: 'Hryvnia Ucraniana (UAH)' },
                { code: 'UGX', name: 'Xelim Ugandense (UGX)' },
                { code: 'USD', name: 'Dólar Americano (USD)' },
                { code: 'UYU', name: 'Peso Uruguaio (UYU)' },
                { code: 'UZS', name: 'Som Uzbeque (UZS)' },
                { code: 'VES', name: 'Bolívar Venezuelano (VES)' },
                { code: 'VND', name: 'Dong Vietnamita (VND)' },
                { code: 'VUV', name: 'Vatu de Vanuatu (VUV)' },
                { code: 'WST', name: 'Tala Samoano (WST)' },
                { code: 'XAF', name: 'Franco CFA da África Central (XAF)' },
                { code: 'XCD', name: 'Dólar do Caribe Oriental (XCD)' },
                { code: 'XDR', name: 'Direitos Especiais de Saque (XDR)' },
                { code: 'XOF', name: 'Franco CFA da África Ocidental (XOF)' },
                { code: 'XPF', name: 'Franco CFP (XPF)' },
                { code: 'YER', name: 'Rial Iemenita (YER)' },
                { code: 'ZAR', name: 'Rand Sul-Africano (ZAR)' },
                { code: 'ZMW', name: 'Kwacha Zambiano (ZMW)' },
                { code: 'ZWL', name: 'Dólar Zimbabuano (ZWL)' }
            ];

            function populateSelect(selectElement) {
                selectElement.innerHTML = '';
                currencies.forEach(currency => {
                    const option = document.createElement('option');
                    option.value = currency.code;
                    option.textContent = `${currency.name}`;
                    selectElement.appendChild(option);
                });
            }

            populateSelect(baseCurrencySelect);
            populateSelect(targetCurrencySelect);

            $(baseCurrencySelect).select2();
            $(targetCurrencySelect).select2();

            async function fetchExchangeRates() {
                try {
                    const response = await fetch('https://api.exchangerate-api.com/v4/latest/USD'); // Substitua pela URL da sua API
                    const data = await response.json();
                    return data.rates;
                } catch (error) {
                    console.error('Erro ao buscar taxas de câmbio:', error);
                    return {};
                }
            }

            async function convertCurrency(amount, baseCurrency, targetCurrency) {
                const rates = await fetchExchangeRates();
                if (baseCurrency === targetCurrency) {
                    return amount;
                }
                const rate = rates[targetCurrency] / rates[baseCurrency];
                return amount * rate;
            }

            document.getElementById('converter-form').addEventListener('submit', async (event) => {
                event.preventDefault();
                const amount = parseFloat(document.getElementById('base-amount').value);
                const baseCurrency = baseCurrencySelect.value;
                const targetCurrency = targetCurrencySelect.value;

                const convertedAmount = await convertCurrency(amount, baseCurrency, targetCurrency
